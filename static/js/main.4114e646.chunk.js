(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{339:function(e,t,n){e.exports=n(720)},720:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),c=n(51),o=n.n(c),i=n(66),u=n(292),l=n(312),s=n(137),p=n(11),m=n.n(p),d=n(12),h=n(82),b=(n(138),{findLocationByLatLng:function(){var e=Object(h.a)(m.a.mark(function e(t,n){var a,r,c;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=[t,n].join(","),e.next=3,fetch("https://react-assessment-api.herokuapp.com/api/weather/location/search/?lattlong=".concat(a));case 3:if((r=e.sent).ok){e.next=6;break}return e.abrupt("return",{error:{code:r.status}});case 6:return e.next=8,r.json();case 8:return c=e.sent,e.abrupt("return",{data:c});case 10:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),findWeatherbyId:function(){var e=Object(h.a)(m.a.mark(function e(t){var n,a;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://react-assessment-api.herokuapp.com/api/weather/location/".concat(t,"/"));case 2:if((n=e.sent).ok){e.next=5;break}return e.abrupt("return",{error:{code:n.status}});case 5:return e.next=7,n.json();case 7:return a=e.sent,e.abrupt("return",{data:a});case 9:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),getDroneData:function(){var e=Object(h.a)(m.a.mark(function e(){var t,n;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://react-assessment-api.herokuapp.com/api/drone");case 2:if((t=e.sent).ok){e.next=5;break}return e.abrupt("return",{error:{code:t.status}});case 5:return e.next=7,t.json();case 7:return n=e.sent,e.abrupt("return",{data:n});case 9:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()}),f="COMMAND/FETCH_WEATHER_FOR_LAT_LNG",E="EVENT/API_ERROR_RECEIVED",v="EVENT/WEATHER_DATA_RECEIVED",j="EVENT/WEATHER_ID_RECEIVED",O="COMMAND/FETCH_DRONE",g="EVENT/DRON_DATA_RECEIVED",y=m.a.mark(x),w=m.a.mark(D),k=m.a.mark(_);function x(e){var t,n,a,r;return m.a.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return t=e.id,c.next=3,Object(d.b)(b.findWeatherbyId,t);case 3:if(n=c.sent,a=n.error,r=n.data,!a){c.next=12;break}return c.next=9,Object(d.d)({type:E,code:a.code});case 9:return c.next=11,Object(d.c)();case 11:return c.abrupt("return");case 12:return c.next=14,Object(d.d)({type:v,data:r});case 14:case"end":return c.stop()}},y)}function D(e){var t,n,a,r,c,o;return m.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return t=e.latitude,n=e.longitude,i.next=3,Object(d.b)(b.findLocationByLatLng,t,n);case 3:if(a=i.sent,r=a.error,c=a.data,!r){i.next=13;break}return console.log({error:r}),i.next=10,Object(d.d)({type:E,code:r.code});case 10:return i.next=12,Object(d.c)();case 12:return i.abrupt("return");case 13:if(o=!!c[0]&&c[0].woeid){i.next=20;break}return i.next=17,Object(d.d)({type:E});case 17:return i.next=19,Object(d.c)();case 19:return i.abrupt("return");case 20:return i.next=22,Object(d.d)({type:j,id:o});case 22:case"end":return i.stop()}},w)}function _(){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(d.a)([Object(d.e)(f,D),Object(d.e)(j,x)]);case 2:case"end":return e.stop()}},k)}var L=[_],R=n(132),T=m.a.mark(C),I=m.a.mark(M);function C(e){return m.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(d.b)(R.toast.error,"Error Received: ".concat(e.code));case 2:case"end":return t.stop()}},T)}function M(){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(d.e)(E,C);case 2:case"end":return e.stop()}},I)}var N=[M],S=m.a.mark(V),A=m.a.mark(W);function V(e){var t,n,a;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(d.b)(b.getDroneData);case 2:if(t=e.sent,n=t.error,a=t.data,!n){e.next=12;break}return console.log({error:n}),e.next=9,Object(d.d)({type:E,code:n.code});case 9:return e.next=11,Object(d.c)();case 11:return e.abrupt("return");case 12:return e.next=14,Object(d.d)({type:g,data:a});case 14:case"end":return e.stop()}},S)}function W(){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(d.a)([Object(d.e)(O,V)]);case 2:case"end":return e.stop()}},A)}var F,G,z=[W],H=[].concat(Object(s.a)(N),Object(s.a)(L),Object(s.a)(z)),B=n(43),J=n(313),U=n(68),P={loading:!1,weatherId:null,name:"",temperature:"",weather_state_name:"",latitude:null,longitude:null,data:{}},Z=(F={},Object(B.a)(F,f,function(e,t){return Object(U.a)({},e,{loading:!0})}),Object(B.a)(F,j,function(e,t){return Object(U.a)({},e,{weatherId:t.id})}),Object(B.a)(F,v,function(e,t){var n=t.data;if(!n.consolidated_weather)return e;var a,r=n.consolidated_weather[0],c=r.weather_state_name,o=r.the_temp,i=n.latt_long,u=n.title,l=i.split(","),s=Object(J.a)(l,2),p=s[0],m=s[1];return Object(U.a)({},e,{loading:!1,latitude:p,longitude:m,temperatureinCelsius:o,temperatureinFahrenheit:(a=o,9*a/5+32),weather_state_name:c,name:u,data:t.data})}),F),K=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,t=arguments.length>1?arguments[1]:void 0,n=Z[t.type];return"undefined"===typeof n?e:n(e,t)},q={loading:!1,latitude:null,longitude:null,metric:null,metricsData:[]},Q=(G={},Object(B.a)(G,O,function(e,t){return Object(U.a)({},e,{loading:!0})}),Object(B.a)(G,g,function(e,t){var n=t.data.data,a=n.length-1;return Object(U.a)({},e,{loading:!1,metric:n[a].metric,latitude:n[a].latitude,longitude:n[a].longitude,metricsData:n})}),G),Y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q,t=arguments.length>1?arguments[1]:void 0,n=Q[t.type];return"undefined"===typeof n?e:n(e,t)},$=n(39),X=n(14),ee=n(311),te=n.n(ee),ne=(n(356),n(131)),ae=n.n(ne),re=n(297),ce=n.n(re),oe=n(298),ie=n.n(oe),ue=n(53),le=n(54),se=n(57),pe=n(55),me=n(58),de=n(296),he=n.n(de),be=n(295),fe=n.n(be),Ee=Object(X.withStyles)(function(e){return{root:{background:e.palette.secondary.main},label:{color:e.palette.primary.main}}})(fe.a),ve=function(e){function t(){return Object(ue.a)(this,t),Object(se.a)(this,Object(pe.a)(t).apply(this,arguments))}return Object(me.a)(t,e),Object(le.a)(t,[{key:"componentDidMount",value:function(){this.props.onLoad()}},{key:"render",value:function(){var e=this.props,t=e.loading,n=e.name,a=e.weather_state_name,c=e.temperatureinFahrenheit;return t?r.a.createElement(he.a,null):r.a.createElement(Ee,{label:"Weather in ".concat(n,": ").concat(a," and ").concat(c,"\xb0")})}}]),t}(a.Component),je=Object($.b)(function(e,t){var n=e.weather;return{loading:n.loading,name:n.name,weather_state_name:n.weather_state_name,temperatureinFahrenheit:n.temperatureinFahrenheit}},function(e){return{onLoad:function(){return e({type:f,longitude:-95.3698,latitude:29.7604})}}})(ve),Oe=Object(X.withStyles)({grow:{flexGrow:1}})(function(e){var t=e.classes;return r.a.createElement(ce.a,{position:"static"},r.a.createElement(ie.a,null,r.a.createElement(ae.a,{variant:"h6",color:"inherit",className:t.grow},"Rovshen Paltayev's"," EOG React Visualization Assessment"),r.a.createElement(je,null)))}),ge=Object(X.withStyles)(function(e){return{wrapper:{background:e.palette.background.main,height:"100vh"}}})(function(e){var t=e.classes;return r.a.createElement("div",{className:t.wrapper},e.children)}),ye=n(86),we=n.n(ye),ke=n(85),xe=n.n(ke),De=n(56),_e=n.n(De),Le=n(69),Re=Object(X.withStyles)(function(e){return{root:{background:e.palette.primary.main},title:{color:"white"}}})(xe.a),Te=function(e){function t(){return Object(ue.a)(this,t),Object(se.a)(this,Object(pe.a)(t).apply(this,arguments))}return Object(me.a)(t,e),Object(le.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.onLoad(),this.interval=setInterval(function(){e.props.onLoad()},2e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"render",value:function(){var e=this.props,t=e.metricsData,n=e.classes,a=t.map(function(e){return{timestamp:(t=e.timestamp,new Date(t).toLocaleTimeString()),metric:e.metric};var t});return r.a.createElement("div",null,r.a.createElement(_e.a,{className:n.card},r.a.createElement(Re,{title:"RealTime Graphical Visualization of Drone's Temp"}),r.a.createElement(we.a,null,r.a.createElement(Le.c,{width:650,height:400,data:a,margin:{top:5,right:20,bottom:5,left:0}},r.a.createElement(Le.b,{type:"monotone",dataKey:"metric",stroke:"black"}),r.a.createElement(Le.a,{stroke:"#ccc",strokeDasharray:"1 1"}),r.a.createElement(Le.e,{dataKey:"timestamp"}),r.a.createElement(Le.f,{type:"number",domain:["dataMax - 200","auto"]}),r.a.createElement(Le.d,null)))))}}]),t}(a.Component),Ie=Object($.b)(function(e,t){return{metricsData:e.drone.metricsData}},function(e){return{onLoad:function(){return e({type:O})}}})(Object(X.withStyles)({card:{margin:"1% 1%"}})(Te)),Ce=n(101),Me=Object(Ce.withScriptjs)(Object(Ce.withGoogleMap)(function(e){var t=e.latitude,n=e.longitude,a={center:{lat:31.11,lng:-100},zoom:4};return r.a.createElement(_e.a,null,r.a.createElement(Ce.GoogleMap,{defaultCenter:a.center,defaultZoom:a.zoom},r.a.createElement(Ce.Marker,{position:{lat:parseFloat(t),lng:parseFloat(n)}})))})),Ne=Object(X.withStyles)(function(e){return{root:{background:e.palette.primary.main},title:{color:"white"}}})(xe.a),Se=function(e){function t(){return Object(ue.a)(this,t),Object(se.a)(this,Object(pe.a)(t).apply(this,arguments))}return Object(me.a)(t,e),Object(le.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.onLoad(),this.interval=setInterval(function(){e.props.onLoad()},2e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"render",value:function(){var e=this.props,t=e.classes,n=e.latitude,a=e.longitude;return r.a.createElement("div",null,r.a.createElement(_e.a,{className:t.card},r.a.createElement(Ne,{title:"RealTime Graphical Visualization of Drone's Temp"}),r.a.createElement(we.a,null,r.a.createElement(Me,{latitude:n,longitude:a,googleMapURL:"https://maps.googleapis.com/maps/api/js?key=AIzaSyCSrmQ2sJuZJGraZ3RYVGtqDaykygpVA6g&v=3.exp&libraries=geometry,drawing,places",loadingElement:r.a.createElement("div",{style:{width:"100%",height:"100%"}}),containerElement:r.a.createElement("div",{style:{width:"650px",height:"400px"}}),mapElement:r.a.createElement("div",{style:{width:"100%",height:"100%"}})}))))}}]),t}(a.Component),Ae=Object($.b)(function(e,t){var n=e.drone;return{latitude:n.latitude,longitude:n.longitude}},function(e){return{onLoad:function(){return e({type:O})}}})(Object(X.withStyles)({card:{margin:"1% 1%"}})(Se)),Ve=n(310),We=n.n(Ve),Fe=n(102),Ge=n.n(Fe),ze=n(103),He=n.n(ze),Be=n(309),Je=n.n(Be),Ue=Object(X.withStyles)(function(e){return{root:{background:e.palette.primary.main},title:{color:"white"}}})(xe.a),Pe=Object(X.withStyles)(function(e){return{root:{background:e.palette.primary.main},title:{color:"white"}}})(Je.a),Ze=function(e){function t(){return Object(ue.a)(this,t),Object(se.a)(this,Object(pe.a)(t).apply(this,arguments))}return Object(me.a)(t,e),Object(le.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.onLoad(),this.interval=setInterval(function(){e.props.onLoad()},2e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"render",value:function(){var e=this.props,t=e.latitude,n=e.longitude,a=e.metric,c=e.classes;return r.a.createElement("div",null,r.a.createElement(_e.a,{className:c.card,style:{minWidth:"700px",height:"500px"}},r.a.createElement(Ue,{title:"RealTime Information of the Drone"}),r.a.createElement(we.a,null,r.a.createElement(We.a,null,r.a.createElement(Ge.a,null,r.a.createElement(Pe,null,"1"),r.a.createElement(He.a,{primary:"Temperature: ".concat(a||"249.20709327988456")})),r.a.createElement(Ge.a,null,r.a.createElement(Pe,null,"2"),r.a.createElement(He.a,{primary:"Latitude: ".concat(t||"28.492074543952448")})),r.a.createElement(Ge.a,null,r.a.createElement(Pe,null,"3"),r.a.createElement(He.a,{primary:"Longitude: ".concat(n||"-95.4928720669904")})),r.a.createElement(Ge.a,null,r.a.createElement(Pe,null,"4"),r.a.createElement(He.a,{primary:"Last Received: 2 seconds ago"}))))))}}]),t}(a.Component),Ke=Object($.b)(function(e,t){var n=e.drone;return{mlatitude:n.mlatitude,longitude:n.longitude,metric:n.metric}},function(e){return{onLoad:function(){return e({type:O})}}})(Object(X.withStyles)({card:{margin:"1% 1%"}})(Ze)),qe=function(){var e=Object(i.combineReducers)({weather:K,drone:Y}),t=Object(u.composeWithDevTools)({}),n=Object(l.a)(),a=Object(i.applyMiddleware)(n),r=Object(i.createStore)(e,t(a));return H.forEach(n.run),r}(),Qe=Object(X.createMuiTheme)({typography:{useNextVariants:!0},palette:{primary:{main:"rgb(39,49,66)"},secondary:{main:"rgb(197,208,222)"},background:{main:"rgb(226,231,238)"}}}),Ye=function(e){return r.a.createElement(X.MuiThemeProvider,{theme:Qe},r.a.createElement(te.a,null),r.a.createElement($.a,{store:qe},r.a.createElement(ge,null,r.a.createElement(Oe,null),r.a.createElement("div",{style:{display:"flex",flexWrap:"wrap",alignItems:"center",justifyContent:"space-around"}},r.a.createElement(Ae,null),r.a.createElement(Ie,null),r.a.createElement(Ke,null)),r.a.createElement(R.ToastContainer,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(Ye,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[339,2,1]]]);
//# sourceMappingURL=main.4114e646.chunk.js.map